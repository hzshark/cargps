<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<title>新能源汽车 实时调度系统</title>
<meta name="description" content="新能源汽车 实时调度系统。" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="application-name" content="新能源汽车 实时调度系统" />
<meta name="msapplication-tooltip" content="新能源汽车 实时调度系统" />
<meta name="msapplication-starturl" content="新能源汽车 实时调度系统" />
<meta name="msapplication-TileImage" content="" />
<meta name="msapplication-TileColor" content="#0088ff" />
<meta name="renderer" content="webkit" />
<link href="__PUBLIC__/css/global.css" rel="stylesheet" />
<link href="__PUBLIC__/css/home.css" rel="stylesheet" />
<script type="text/javascript" src="http://api.map.baidu.com/api?v=1.4"></script>
<script type="text/javascript" src="http://api.map.baidu.com/library/SearchControl/1.4/src/SearchControl_min.js"></script>
<link rel="stylesheet" href="http://api.map.baidu.com/library/SearchControl/1.4/src/SearchControl_min.css" />
<link href="http://api.map.baidu.com/library/TrafficControl/1.4/src/TrafficControl_min.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="http://api.map.baidu.com/library/TrafficControl/1.4/src/TrafficControl_min.js"></script>
<script type="text/javascript" src="http://api.map.baidu.com/library/LuShu/1.2/src/LuShu_min.js"></script>
</head>
<body class="homepage">
<div class="homepage-container" style="z-index:999; display:block">
  <header class="homepage-header">
    <h2>新能源汽车实时调度系统</h2>
    <div class="header-account"><span class=""><a href="#">修改密码</a>&nbsp;&nbsp;<a href="#">退出</a></span> </div>
  </header>
  <div class="map-container">
    <div class="pop-b"> <a class="close">X</a>
      <h2>浙A23243A    行驶中</h2>
      <div class="state">
        <ul>
          <li><span>上报时间：</span><em>2016-01-02 12：13：34</em></li>
          <li><span>车速：</span><em>12km/h</em></li>
          <li><span>VIN码：</span><em>ljds23u49832798</em></li>
        </ul>
      </div>
      <div class="cz">
        <ul>
          <li class="cz1"><a  class="img">跟踪车辆</a><br>
            跟踪车辆</li>
          <li class="cz2"><a  class="img">历史轨迹</a><br>
            历史轨迹</li>
          <li class="cz3"><a  class="img">抓拍车辆</a><br>
            抓拍车辆</li>
          <li class="cz4"><a  class="img">查看图片</a><br>
            查看图片</li>
        </ul>
      </div>
      <div class="triangle-down2"></div>
      <div class="triangle-down3"></div>
    </div>
    
    <div id="map_container"></div>
    <!-- <iframe src="http://map.baidu.com/" width="100%" height="100%" style="display:block"> </iframe>  -->
	
    <div class="map-navbar group">
      <div class="module-locate map_search">
        <div class="map-block-input dark search-bar group"> <span class="twitter-typeahead" style="position: relative; display: inline-block; direction: ltr;">
          <input type="search"  placeholder="车牌号" class="search-input tt-input" id="search_input" style="position: relative; vertical-align: top; background-color: transparent;">
          <span class="tt-dropdown-menu" style="position: absolute; top: 100%; left: 0px; z-index: 100; display: block; right: auto;">
          <div class="tt-dataset-eleme-dataset">
          <!--  <span class="tt-suggestion" style="display:block"> -->
          <span class="tt-suggestion" style="display:none">
            <div class="tt-suggestion tt-cursor ">
              <div class=" tt-autocomplete" style=" white-space:normal"><strong>浙A</strong>浙AQ8995</div>
            </div>
            <div class="tt-suggestion">
              <div class=" tt-autocomplete" style=" white-space:normal">22</div>
            </div>
            <div class="tt-suggestion">
              <div class=" tt-autocomplete" style=" white-space:normal">33</div>
            </div>
            <div class="tt-suggestion">
              <div class=" tt-autocomplete" style=" white-space:normal">44</div>
            </div>
            <div class="tt-suggestion">
              <div class=" tt-autocomplete" style=" white-space:normal">11</div>
            </div>
            <div class="tt-suggestion">
              <div class=" tt-autocomplete" style=" white-space:normal">22</div>
            </div>
            <div class="tt-suggestion">
              <div class=" tt-autocomplete" style=" white-space:normal">33</div>
            </div>
            <div class="tt-suggestion">
              <div class=" tt-autocomplete" style=" white-space:normal">44</div>
            </div>
            </span> </div>
          </span> </span> <a  href="#" class="glyph-search search-btn"><span>-</span></a> </div>
      </div>
    </div>
    <div class="map-sidebar">
      <div class="map-block module-result result_wrap">
        <div class="result-loading search_loader ui_hide"> <i class="icon-eleme-loader"></i>
          <p class="hint">搜索中……</p>
        </div>
        <div class="result-wrapper result_container">
          <div class="result-list search_results">
            <div class="result-block ui_current">
              <div class="marker ui_1"></div>
              <p class="result-name">杭州顺丰快递有限公司</p>
              <p class="result-address"> <span><a href="#">浙A23423Q</a><i class="blue">a</i></span> <span><a href="#">浙A23423Q</a><i class="red">b</i></span> <span><a href="#">浙A23423Q</a><i class="red">b</i></span> </p>
              <div class="clear"></div>
            </div>
            <div class="result-block">
              <div class="marker ui_2"></div>
              <p class="result-name">杭州顺丰快递有限公司</p>
              <p class="result-address"> <span><a href="#">浙A23423Q</a><i class="blue">a</i></span> <span><a href="#">浙A23423Q</a><i class="red">b</i></span> <span><a href="#">浙A23423Q</a><i class="red">b</i></span> </p>
              <div class="clear"></div>
            </div>
            <div class="result-block">
              <div class="marker ui_3"></div>
              <p class="result-name">杭州顺丰快递有限公司</p>
              <p class="result-address"> <span><a href="#">浙A23423Q</a><i class="blue">a</i></span> <span><a href="#">浙A23423Q</a><i class="red">b</i></span> <span><a href="#">浙A23423Q</a><i class="red">b</i></span> </p>
              <div class="clear"></div>
            </div>
            <div class="result-block">
              <div class="marker ui_4"></div>
              <p class="result-name">杭州顺丰快递有限公司</p>
              <p class="result-address"> <span><a href="#">浙A23423Q</a><i class="blue">a</i></span> <span><a href="#">浙A23423Q</a><i class="red">b</i></span> <span><a href="#">浙A23423Q</a><i class="red">b</i></span> </p>
              <div class="clear"></div>
            </div>
            <div class="result-pager result_pagination light-theme simple-pagination">
              <ul>
                <li class="active"><span class="current prev">&lt;</span></li>
                <li class="active"><span class="current">1</span></li>
                <li><a class="page-link" href="#page-2">2</a></li>
                <li><a class="page-link next" href="#page-2">&gt;</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="map-block pin-wrapper">
        <div class="map-pin major_pin" style="position: relative;"></div>
      </div>
    </div>
  	<div id="result"></div>
	<button id="run">开始</button> 
	<button id="stop">停止</button> 
	<button id="pause">暂停</button> 
	<button id="hide">隐藏信息窗口</button> 
	<button id="show">展示信息窗口</button> 
  </div>
  
</div>

</body>
<script type="text/javascript" src="__PUBLIC__/js/jquery-1.4.1.min.js"></script>
<script type="text/javascript">
var map = new BMap.Map('map_container');
map.enableScrollWheelZoom();
map.centerAndZoom(new BMap.Point(120.21799400, 30.21028600), 18);
var lushu;
// 实例化一个驾车导航用来生成路线
var drv = new BMap.DrivingRoute('杭州', {
    onSearchComplete: function(res) {
        if (drv.getStatus() == BMAP_STATUS_SUCCESS) {
            var plan = res.getPlan(0);
            var arrPois =[];
            for(var j=0;j<plan.getNumRoutes();j++){
                var route = plan.getRoute(j);
                arrPois= arrPois.concat(route.getPath());
            }
            map.addOverlay(new BMap.Polyline(arrPois, {strokeColor: '#111'}));
            map.setViewport(arrPois);
            
            lushu = new BMapLib.LuShu(map,arrPois,{
            defaultContent:"",//"从天安门到百度大厦"
            autoView:true,//是否开启自动视野调整，如果开启那么路书在运动过程中会根据视野自动调整
            icon  : new BMap.Icon('../__PUBLIC__/images/car.png', new BMap.Size(48,48),{anchor : new BMap.Size(27, 13)}),
            speed: 4500,
            enableRotation:true,//是否设置marker随着道路的走向进行旋转
            landmarkPois: [
               {lng:116.314782,lat:39.913508,html:'加油站',pauseTime:2},
               {lng:116.315391,lat:39.964429,html:'高速公路收费<div><img src="http://map.baidu.com/img/logo-map.gif"/></div>',pauseTime:3},
               {lng:116.381476,lat:39.974073,html:'肯德基早餐<div><img src="http://ishouji.baidu.com/resource/images/map/show_pic04.gif"/></div>',pauseTime:2}
            ]});          
        }
    }
});
drv.search(new BMap.Point(120.21693819, 30.21160205), new BMap.Point(120.21769418, 30.21054354));
//绑定事件
$("run").onclick = function(){
	lushu.start();
}
$("stop").onclick = function(){
	lushu.stop();
}
$("pause").onclick = function(){
	lushu.pause();
}
$("hide").onclick = function(){
	lushu.hideInfoWindow();
}
$("show").onclick = function(){
	lushu.showInfoWindow();
}
function $(element){
	return document.getElementById(element);
}

</script>
</html>
